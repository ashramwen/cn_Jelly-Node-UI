<div class="main-container">
  <div class="main-header">
    <div class="left-container">
      <ul>
        <li><i class="fa fa-plus-circle" (click)="zoomIn()"></i></li>
        <li><i class="fa fa-minus-circle" (click)="zoomOut()"></i></li>
        <li>
          <i class="fa fa-expand" 
            [class.fa-expand]="!fullscreen" 
            [class.fa-compress]="fullscreen"
            (click)="toggleFullScreen()"></i>
          </li>
        <li>
        </li>
        <li><i class="fa fa-hand-stop-o" [class.active]="nodeView.nodeCanvas.dragEnabled" (click)="toggleDragMove()"></i></li>
      </ul>
    </div>
    <div class="title-container" *ngIf="nodeFlow">
      <label class="title" [hidden]="editingName" (click)="startEditingName()">
        {{nodeFlow.flowName || 'Untitled Rule'}}
      </label>
      <input #flowNameTxt class="title-txt" type="text" (blur)="stopEditingName()" [hidden]="!editingName" [(ngModel)]="nodeFlow.flowName">
    </div>
    <div class="right-container">
      <ul>
        <li *ngIf="!isNew && nodeFlow.published" class="enable-toggle" [class.enabled]="nodeFlow.enabled">
          <label>{{nodeFlow.enabled? '已启用' : '已禁用' | translate}}</label>
          <div class="btn-toggle" (click)="toggleEnable()">
            <div class="slider"><span class="fa fa-bars"></span></div>
          </div>
        </li>
        <li>
          <button class="btn-save" (click)="submit()">{{'保存' | translate}}</button>
        </li>
        <li>
          <button class="btn-publish" (click)="publish()">{{'保存并发布' | translate}}</button>
        </li>
      </ul>
    </div>
  </div>
  <div class="main-body clearfix">
    <jn-view [nodeFlow]="nodeFlow" #nodeView></jn-view>
  </div>
</div>
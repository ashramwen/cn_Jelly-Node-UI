<div class="palette">
  <div class="palette-property" [ngClass]="{'half': connections && connections.length > 0}">
    <div class="palette-title">
      {{'JNModules.palette.title' | translate}}
    </div>
    <div class="palette-node-container">
      <div class="palette-node-group" *ngFor="let node of flowNodes;" [ngClass]="{'no': !node.acceptable && !node.directable, 'yes': node.acceptable || node.directable}">
        <div class="palette-function">
          <div draggable (onDrag)="onDrag($event)" [disabled]="!node.acceptable && !node.directable" [dragData]="node" class="palette-node" [ngStyle]="nodeStyle">
            <div class="palette-icon" [ngStyle]="iconStyle">
              <i [ngStyle]="{'font-size': NodeSettings.NODE_ICON_HOLDER_WIDTH}">{{node.icon}}</i>
            </div>
            <div class="palette-label" dir="">{{node.name | translate}}</div>
            <div class="palette-port output" [ngClass]="{'connectable': node.directable, 'disconnectable': !node.directable && !node.hasOutput, 'hasOutput': !node.directable && node.hasOutput}" [ngStyle]="outputPortStyle"></div>
            <div class="palette-port input" [ngClass]="{'connectable': node.acceptable, 'disconnectable': !node.acceptable && !node.hasInput, 'hasOutput': !node.acceptable && node.hasInput}"
              [ngStyle]="inputPortStyle"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="palette-property half" *ngIf="connections && connections.length > 0">
    <div class="connections-title">
      {{'JNModules.palette.connections.title' | translate}}
    </div>
    <div class="palette-node-container">
      <div *ngFor="let connection of connections; let j=index;">
        <div class="palette-connection">
          <div class="palette-connection-title">
            {{connection.title | translate}}
          </div>
          <div class="palette-node-group" *ngFor="let node of connection.properties;" [ngClass]="{'no': !node.acceptable && !node.directable, 'yes': node.acceptable || node.directable}">
            <div class="palette-function">
              <div draggable (onDrag)="onDrag($event)" [disabled]="!node.acceptable && !node.directable" [dragData]="node" class="palette-node" [ngStyle]="nodeStyle">
                <div class="palette-icon" [ngStyle]="iconStyle">
                  <i [ngStyle]="{'font-size': NodeSettings.NODE_ICON_HOLDER_WIDTH}">{{node.icon}}</i>
                </div>
                <div class="palette-label" dir="">{{node.name | translate}}</div>
                <div class="palette-port output" [ngClass]="{'connectable': node.directable, 'disconnectable': !node.directable && !node.hasOutput, 'hasOutput': !node.directable && node.hasOutput}"
                  [ngStyle]="outputPortStyle"></div>
                <div class="palette-port input" [ngClass]="{'connectable': node.acceptable, 'disconnectable': !node.acceptable && !node.hasInput, 'hasOutput': !node.acceptable && node.hasInput}"
                  [ngStyle]="inputPortStyle"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>